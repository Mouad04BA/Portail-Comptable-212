
{% extends 'layout.html' %}

{% block title %}Ressources Comptables Marocaines{% endblock %}

{% block hero %}
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 text-center text-lg-start">
                <h1 class="mb-4 fade-in">Ressources & Liens Utiles</h1>
                <p class="lead mb-4 fade-in">Une collection complète de ressources pour la comptabilité, la fiscalité et l'information financière marocaine.</p>
            </div>
            <div class="col-lg-6 d-none d-lg-block text-center mt-5 mt-lg-0">
                <img src="https://images.unsplash.com/photo-1433574466251-fe1be0d9b3d2" class="img-fluid hero-img rounded" alt="Ressources Marocaines" width="500">
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block content %}
<!-- Navigation des Ressources -->
<section class="mb-4 fade-in">
    <div class="d-flex flex-wrap justify-content-center gap-2">
        {% for category_group in resources %}
        <a href="#{{ category_group.category|lower|replace(' ', '-') }}" class="btn btn-outline-primary">
            {{ category_group.category }}
        </a>
        {% endfor %}
    </div>
</section>

<!-- Catégories de Ressources -->
{% for category_group in resources %}
<section id="{{ category_group.category|lower|replace(' ', '-') }}" class="mb-5">
    <h2 class="section-title mb-4">{{ category_group.category }}</h2>
    
    <div class="row">
        {% for resource in category_group.resources %}
        <div class="col-md-6 mb-4 fade-in">
            <div class="resource-card">
                <div class="resource-icon">
                    <i class="{{ resource.icon }}"></i>
                </div>
                <div class="resource-content">
                    <h3 class="resource-title">{{ resource.title }}</h3>
                    <p class="resource-description">{{ resource.description }}</p>
                    <a href="{{ resource.url }}" target="_blank" class="btn btn-sm btn-outline-primary">
                        Visiter le Site <i class="bi bi-box-arrow-up-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>
{% endfor %}

<!-- Modèles de Documents -->
<section class="mb-5 fade-in">
    <h2 class="section-title mb-4">Modèles de Documents</h2>
    
    <div class="card">
        <div class="card-body">
            <p class="lead">Accédez à des modèles et formulaires utiles pour la comptabilité et la fiscalité.</p>
            
            <div class="row">
                <div class="col-md-6">
                    <h3 class="h5 mb-3">Modèles Comptables</h3>
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <i class="bi bi-file-earmark-spreadsheet me-2 text-primary"></i>
                            <a href="#" onclick="showNotification('Le modèle sera disponible après connexion', 'info'); return false;">Modèle de Bilan</a>
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-file-earmark-spreadsheet me-2 text-primary"></i>
                            <a href="#" onclick="showNotification('Le modèle sera disponible après connexion', 'info'); return false;">Modèle de Compte de Résultat</a>
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-file-earmark-spreadsheet me-2 text-primary"></i>
                            <a href="#" onclick="showNotification('Le modèle sera disponible après connexion', 'info'); return false;">Modèle de Tableau des Flux de Trésorerie</a>
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-file-earmark-spreadsheet me-2 text-primary"></i>
                            <a href="#" onclick="showNotification('Le modèle sera disponible après connexion', 'info'); return false;">Modèle d'Écriture Comptable</a>
                        </li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h3 class="h5 mb-3">Formulaires Fiscaux</h3>
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <i class="bi bi-file-earmark-pdf me-2 text-danger"></i>
                            <a href="#" onclick="showNotification('Le formulaire sera disponible après connexion', 'info'); return false;">Formulaire de Déclaration IS</a>
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-file-earmark-pdf me-2 text-danger"></i>
                            <a href="#" onclick="showNotification('Le formulaire sera disponible après connexion', 'info'); return false;">Formulaire de Déclaration IR</a>
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-file-earmark-pdf me-2 text-danger"></i>
                            <a href="#" onclick="showNotification('Le formulaire sera disponible après connexion', 'info'); return false;">Formulaire de Déclaration TVA</a>
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-file-earmark-pdf me-2 text-danger"></i>
                            <a href="#" onclick="showNotification('Le formulaire sera disponible après connexion', 'info'); return false;">Formulaire de Retenue à la Source</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Ateliers et Formations -->
<section class="mb-5 fade-in">
    <h2 class="section-title mb-4">Ateliers & Formations</h2>
    
    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h3 class="h5 card-title">Webinaires à Venir</h3>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <span class="d-block fw-bold">Nouvelles Réglementations Fiscales 2025</span>
                                <small class="text-muted">15 mai 2025 | 10h00</small>
                            </div>
                            <button class="btn btn-sm btn-outline-primary" onclick="showNotification('L\'inscription sera disponible après connexion', 'info')">S'inscrire</button>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <span class="d-block fw-bold">Mise en œuvre des IFRS au Maroc</span>
                                <small class="text-muted">3 juin 2025 | 14h00</small>
                            </div>
                            <button class="btn btn-sm btn-outline-primary" onclick="showNotification('L\'inscription sera disponible après connexion', 'info')">S'inscrire</button>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <span class="d-block fw-bold">Transformation Numérique en Comptabilité</span>
                                <small class="text-muted">20 juin 2025 | 11h00</small>
                            </div>
                            <button class="btn btn-sm btn-outline-primary" onclick="showNotification('L\'inscription sera disponible après connexion', 'info')">S'inscrire</button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h3 class="h5 card-title">Programmes de Certification</h3>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <span class="d-block fw-bold">Expert en Fiscalité Marocaine Certifié</span>
                            <small class="text-muted d-block mb-2">Durée : 3 mois | Format : En ligne & Présentiel</small>
                            <p class="small">Programme complet couvrant tous les aspects du système fiscal marocain, des réglementations et de la conformité.</p>
                            <button class="btn btn-sm btn-outline-primary" onclick="showNotification('Les détails du programme seront disponibles après connexion', 'info')">En Savoir Plus</button>
                        </li>
                        <li class="list-group-item">
                            <span class="d-block fw-bold">Comptabilité Marocaine Avancée</span>
                            <small class="text-muted d-block mb-2">Durée : 6 mois | Format : En ligne</small>
                            <p class="small">Étude approfondie du Plan Comptable Marocain, des états financiers et des domaines comptables spécialisés.</p>
                            <button class="btn btn-sm btn-outline-primary" onclick="showNotification('Les détails du programme seront disponibles après connexion', 'info')">En Savoir Plus</button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Ouvrages Recommandés -->
<section class="mb-5 fade-in">
    <h2 class="section-title mb-4">Ouvrages Recommandés</h2>
    
    <div class="row">
        <div class="col-md-3 mb-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <div class="mb-3">
                        <i class="bi bi-book" style="font-size: 3rem; color: var(--primary-green);"></i>
                    </div>
                    <h3 class="h6 card-title">Le Plan Comptable Marocain Expliqué</h3>
                    <p class="card-text small">Guide complet du Plan Comptable Marocain avec des exemples pratiques.</p>
                    <small class="text-muted">Auteur : Mohamed Abdelkader</small>
                </div>
            </div>
        </div>
        
        <div class="col-md-3 mb-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <div class="mb-3">
                        <i class="bi bi-book" style="font-size: 3rem; color: var(--primary-green);"></i>
                    </div>
                    <h3 class="h6 card-title">Fiscalité Marocaine : Principes et Applications</h3>
                    <p class="card-text small">Aperçu détaillé du système fiscal marocain avec études de cas et applications pratiques.</p>
                    <small class="text-muted">Auteur : Rachid El Haddaoui</small>
                </div>
            </div>
        </div>
        
        <div class="col-md-3 mb-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <div class="mb-3">
                        <i class="bi bi-book" style="font-size: 3rem; color: var(--primary-green);"></i>
                    </div>
                    <h3 class="h6 card-title">Guide Pratique des Normes Comptables Marocaines</h3>
                    <p class="card-text small">Guide pratique des normes comptables marocaines avec comparaisons aux IFRS.</p>
                    <small class="text-muted">Auteur : Samira Bennouna</small>
                </div>
            </div>
        </div>
        
        <div class="col-md-3 mb-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <div class="mb-3">
                        <i class="bi bi-book" style="font-size: 3rem; color: var(--primary-green);"></i>
                    </div>
                    <h3 class="h6 card-title">Droit des Affaires au Maroc</h3>
                    <p class="card-text small">Aperçu complet du droit des affaires marocain, incluant la comptabilité et la réglementation fiscale.</p>
                    <small class="text-muted">Auteur : Hassan El Badri</small>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Boîte à Suggestions -->
<section class="mb-5 fade-in">
    <div class="card bg-light">
        <div class="card-body">
            <h3 class="h5 mb-3">Suggérer une Ressource</h3>
            <p>Vous connaissez une ressource précieuse qui devrait être incluse sur cette page ? Faites-le nous savoir !</p>
            <form id="resource-suggestion-form">
                <div class="row g-3">
                    <div class="col-md-6">
                        <input type="text" class="form-control" placeholder="Nom de la ressource" required>
                    </div>
                    <div class="col-md-6">
                        <input type="url" class="form-control" placeholder="URL (si applicable)">
                    </div>
                    <div class="col-12">
                        <textarea class="form-control" rows="3" placeholder="Brève description de la ressource" required></textarea>
                    </div>
                    <div class="col-12">
                        <button type="button" class="btn btn-primary" onclick="suggestResource()">Envoyer la Suggestion</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Défilement fluide pour les liens de catégorie
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    const headerOffset = 100;
                    const elementPosition = targetElement.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                    
                    window.scrollTo({
                        top: offsetPosition,
                        behavior: "smooth"
                    });
                }
            });
        });
    });
    
    function suggestResource() {
        const form = document.getElementById('resource-suggestion-form');
        const inputs = form.querySelectorAll('input, textarea');
        
        let isValid = true;
        inputs.forEach(input => {
            if (input.hasAttribute('required') && !input.value) {
                isValid = false;
                input.classList.add('is-invalid');
            } else {
                input.classList.remove('is-invalid');
            }
        });
        
        if (!isValid) {
            showNotification('Veuillez remplir tous les champs requis', 'warning');
            return;
        }
        
        showNotification('Merci pour votre suggestion ! Nous l\'examinerons bientôt.', 'success');
        
        inputs.forEach(input => input.value = '');
    }
</script>
{% endblock %}
